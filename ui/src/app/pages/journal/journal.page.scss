ion-toolbar {
  --background: transparent;

  img {
    width: 30px;
    margin: 1vw;

    &:hover {
      cursor: pointer;
    }
  }

  .filter-container {
    display: flex;
    flex-direction: row;

    ion-item {
      --padding-start: 0px;
      --background: transparent;
      --inner-padding-end: 0px;
      padding: min(2vh, 10px);
      cursor: pointer;

      i {
        padding: min(2vh, 10px);
        color: var(--theme-primary);
        font-size: min(5vh, 30px);
        transition: color 0.3s ease;
      }

      .date-filter,
      .user-filter {
        display: flex;
        align-items: center;

        ion-datetime-button::part(native),
        ion-select::part(native) {
          padding: 0;
          background-color: transparent;
          font-size: min(5vh, 30px);
          font-weight: bold;
          color: var(--theme-primary);
          transition: color 0.3s ease;
        }

        ion-select::part(text) {
          font-weight: bold;
          color: var(--theme-primary);
          transition: color 0.3s ease;
        }

        &:hover {
          i {
            color: var(--theme-accent);
          }

          ion-datetime-button::part(native),
          ion-select::part(native),
          ion-select::part(text) {
            color: var(--theme-accent);
          }
        }
      }

      .user-filter {
        ion-select {
          padding: 0;
          --placeholder-color: var(--theme-primary);
          --color: var(--theme-primary);
          font-size: min(5vh, 30px);
          font-weight: bold;

          &:hover {
            --placeholder-color: var(--theme-accent);
            --color: var(--theme-accent);
          }
        }
      }
    }
  }

  i {
    color: var(--theme-primary);
    font-size: min(5vh, 30px);
    padding: min(2vh, 10px);

    &:hover {
      cursor: pointer;
      color: var(--theme-accent);
    }
  }

  .user-profile-image {
    width: min(6vh, 34px);
    height: min(6vh, 34px);
    margin-right: min(1.5vh, 10px);
    border-radius: 50%;
    object-fit: cover;
    cursor: pointer;
    border: 4px solid var(--theme-primary);

    &:hover {
      border: 4px solid var(--theme-accent);
    }
  }
}

ion-content {
  --background: var(--theme-background);

  .main-content {
    height: 100%;
    display: flex;
    flex-direction: column;

    &.no-entries {
      .bottom-content {
        flex-direction: column;
        align-items: center;

        .chart-container {
          display: none;
        }
      }
    }

    .table-container {
      padding-top: 20px;
      padding-left: calc(50px + 1vw);
      padding-right: calc(50px + 1vw);
      color: var(--theme-primary);

      table {
        width: 100%;
        border-collapse: collapse;

        th,
        td {
          padding: 8px;
          background-color: transparent;
          border-radius: 0;
          transition: background-color 0.3s, color 0.3s, border-radius 0.3s;
        }

        th {
          text-align: left;
          color: var(--theme-primary);
        }

        thead {
          tr {
            position: relative;

            &:after {
              content: "";
              position: absolute;
              left: 10px;
              right: 10px;
              bottom: 0;
              height: 1px;
              background-color: var(--theme-primary);
            }
          }
        }

        tbody {
          tr {
            position: relative;
            cursor: pointer;

            &:after {
              content: "";
              position: absolute;
              left: 10px;
              right: 10px;
              bottom: 0;
              height: 1px;
              background-color: var(--theme-primary);
            }

            td.calories {
              background-color: #32cd3266;
            }

            td.carbs {
              background-color: #e3b508aa;
            }

            td.protein {
              background-color: #ff634766;
            }

            td.fats {
              background-color: #4682b466;
            }

            &:not(.prompt-row):not(.edit-row):not(.edit-actions-row):hover {
              td {
                color: var(--theme-secondary);
              }

              td:not(.calories):not(.carbs):not(.protein):not(.fats) {
                background-color: var(--theme-primary);
              }

              td.calories {
                background-color: #32cd32;
                color: #1a2f3a;
              }

              td.carbs {
                background-color: #e3b508;
                color: #1a2f3a;
              }

              td.protein {
                background-color: #ff6347;
                color: #1a2f3a;
              }

              td.fats {
                background-color: #4682b4;
                color: #1a2f3a;
              }

              td:first-child {
                border-top-left-radius: 10px;
                border-bottom-left-radius: 10px;
              }

              td:last-child {
                border-top-right-radius: 10px;
                border-bottom-right-radius: 10px;
              }
            }

            &.prompt-row,
            &.edit-row,
            &.edit-actions-row {
              cursor: default;

              td {
                background-color: var(--theme-background);
                color: var(--theme-primary);
              }

              &:hover td {
                background-color: var(--theme-background);
                color: var(--theme-primary);
                border-radius: 0;
              }

              .prompt-cell {
                background-color: var(--theme-background);
                color: var(--theme-primary);
                font-style: italic;
                text-align: center;
                user-select: text;
                cursor: default;

                div {
                  margin-bottom: 10px;
                  margin-top: 10px;
                }

                .detail-button {
                  background-color: transparent;
                  border: 1px solid var(--theme-primary);
                  color: var(--theme-primary);
                  cursor: pointer;
                  text-decoration: none;
                  padding: 5px 10px;
                  margin: 5px;
                  margin-bottom: 10px;
                  border-radius: 5px;
                  font-style: normal;
                  font-size: 1em;
                  transition: background-color 0.3s, color 0.3s;

                  i {
                    margin-right: 5px;
                  }

                  &:hover {
                    background-color: var(--theme-primary);
                    color: var(--theme-background);
                  }
                }
              }
            }

            &.edit-row {
              td {
                padding: 5px;
              }

              input[type="text"],
              input[type="number"],
              input[type="time"] {
                width: 100%;
                padding: 5px;
                border: 1px solid var(--theme-primary);
                border-radius: 5px;
                color: var(--theme-primary);
                background-color: var(--theme-background);
                font-size: 1em;

                &:focus {
                  border: 2px solid var(--theme-accent);
                  outline: none;
                }
              }
            }

            &.edit-actions-row {
              .prompt-cell {
                text-align: center;

                .detail-button {
                  background-color: transparent;
                  border: 1px solid var(--theme-primary);
                  color: var(--theme-primary);
                  cursor: pointer;
                  text-decoration: none;
                  padding: 5px 10px;
                  margin: 5px;
                  border-radius: 5px;
                  font-style: normal;
                  font-size: 1em;
                  transition: background-color 0.3s, color 0.3s;

                  i {
                    margin-right: 5px;
                  }

                  &:hover {
                    background-color: var(--theme-primary);
                    color: var(--theme-background);
                  }
                }
              }
            }
          }
        }

        tfoot {
          tr {
            font-weight: bold;
            color: var(--theme-primary);

            td.calories {
              background-color: #32cd3266;
            }

            td.carbs {
              background-color: #e3b508aa;
            }

            td.protein {
              background-color: #ff634766;
            }

            td.fats {
              background-color: #4682b466;
            }
          }
        }
      }
    }

    .bottom-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      bottom: 0;
      width: 100%;

      &.no-entries {
        flex-direction: column;
        align-items: center;

        .chart-container {
          display: none;
        }

        .add-meal {
          margin-top: 20px;
        }
      }

      .chart-container {
        flex: 1;
        display: flex;
        justify-content: center;

        .chart {
          width: 60vw;
          height: 60vw;
          max-width: 40vh;
          max-height: 40vh;
        }
      }

      .add-meal {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        flex: 1;

        h2 {
          font-weight: bold;
          color: var(--theme-primary);
          text-align: center;
        }

        .input-wrapper {
          position: relative;
          width: 100%;
          max-width: 300px;
          margin: 0 auto;

          input {
            width: 100%;
            padding: 10px;
            padding-right: 40px;
            font-size: 1em;
            border: 2px solid var(--theme-primary);
            border-radius: 5px;
            color: var(--theme-primary);
            background-color: var(--theme-background);

            &:focus {
              border: 2px solid var(--theme-accent);
              outline: none;
            }

            &:disabled {
              background-color: var(--theme-background);
              opacity: 0.5;
            }
          }

          ion-icon {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--theme-primary);
            cursor: pointer;
            transition: color 0.3s;

            &:hover {
              color: var(--theme-accent);
            }
          }

          ion-spinner {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--theme-primary);
            width: 24px;
            height: 24px;
          }
        }

        ion-item {
          --background: transparent;
          --inner-padding-end: 0px;
          --color: var(--theme-primary);
          --border-radius: 50px;
          --border-width: 2px;
          --border-color: var(--theme-primary);
          margin-top: 20px;
          margin-left: auto;
          margin-right: auto;
          max-width: 300px;

          ion-label {
            font-size: 1em;
            font-weight: bold;
          }

          ion-select::part(icon) {
            display: none !important;
          }

          &:hover {
            --color: var(--theme-accent);
            --border-color: var(--theme-accent);
          }
        }
      }
    }

    .no-entries-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      flex: 1;
      padding-top: 50px;

      .no-meal-image {
        width: 200px;
        height: auto;
        margin-bottom: 20px;
      }
    }
  }

  @media only screen and (max-width: 600px) {
    .table-container {
      table,
      thead,
      tbody,
      th,
      td,
      tr {
        display: block;
      }

      thead tr {
        display: none;
      }

      tr {
        margin-bottom: 1rem;
      }

      td {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 10px;
        border-bottom: 1px solid #eee;
      }

      td::before {
        content: "";
        font-weight: bold;
      }

      td:nth-of-type(1)::before {
        content: "Meal Name";
      }
      td:nth-of-type(2)::before {
        content: "Calories";
      }
      td:nth-of-type(3)::before {
        content: "Carbs";
      }
      td:nth-of-type(4)::before {
        content: "Protein";
      }
      td:nth-of-type(5)::before {
        content: "Fats";
      }
      td:nth-of-type(6)::before {
        content: "Time";
      }

      .prompt-row,
      .edit-row,
      .edit-actions-row {
        td {
          display: block;
          padding-left: 15px !important;
          text-align: left;
        }

        td::before {
          display: none;
        }
      }
    }
  }
}
